<div class="min-h-screen bg-cream-50 font-body pb-32">
  
  <!-- Header -->
  <div class="pt-24 pb-16 px-6 text-center">
    <h1 class="text-6xl font-display text-forest-900 mb-6">The Lookbook</h1>
    <p class="text-sage-700 max-w-xl mx-auto text-lg font-light">
      Explore every angle. Our heritage pieces are designed to look exquisite from every perspective.
    </p>
  </div>

  <!-- Filters -->
  <div class="flex justify-center gap-8 mb-20 text-sm uppercase tracking-widest border-b border-sage-200 max-w-md mx-auto pb-4">
    <button *ngFor="let cat of categories"
            (click)="setCategory(cat)"
            class="transition-colors duration-300 hover:text-forest-700"
            [class.text-forest-900]="selectedCategory === cat"
            [class.font-bold]="selectedCategory === cat"
            [class.text-sage-400]="selectedCategory !== cat">
      {{ cat }}
    </button>
  </div>

  <!-- The Grid -->
  <div class="max-w-[1600px] mx-auto px-4 md:px-8">
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-x-8 gap-y-20">
      
      <!-- Individual Product Card -->
      <div *ngFor="let item of filteredCollection" class="group flex flex-col">
        
        <!-- 1. Main Display Area (3:4 Aspect Ratio) -->
        <div class="relative w-full aspect-[3/4] overflow-hidden bg-cream-100 rounded-sm mb-4">
          
          <!-- Loop through images to handle transitions -->
          <ng-container *ngFor="let img of item.images; let i = index">
            <img [src]="img" 
                 [alt]="item.title"
                 class="absolute inset-0 w-full h-full object-cover transition-opacity duration-500 ease-in-out"
                 [class.opacity-100]="i === item.activeImageIndex"
                 [class.opacity-0]="i !== item.activeImageIndex">
          </ng-container>

          <!-- Top Right Tag -->
          <div class="absolute top-0 right-0 p-4">
            <span class="bg-white/80 backdrop-blur-md text-forest-900 text-[10px] uppercase font-bold tracking-widest px-3 py-1">
              {{ item.tags[0] }}
            </span>
          </div>
        </div>

        <!-- 2. The Thumbnail Strip (Showcases all sides) -->
        <div class="flex gap-2 mb-5 overflow-x-auto pb-1 scrollbar-hide">
          <button *ngFor="let img of item.images; let i = index"
                  (mouseenter)="setActiveImage(item, i)"
                  (click)="setActiveImage(item, i)"
                  class="relative w-12 h-16 flex-shrink-0 overflow-hidden rounded-sm cursor-pointer transition-all duration-300"
                  [class.ring-1]="i === item.activeImageIndex"
                  [class.ring-forest-800]="i === item.activeImageIndex"
                  [class.opacity-100]="i === item.activeImageIndex"
                  [class.opacity-50]="i !== item.activeImageIndex"
                  [class.hover:opacity-100]="i !== item.activeImageIndex">
            <img [src]="img" class="w-full h-full object-cover">
          </button>
        </div>

        <!-- 3. Details -->
        <div class="flex justify-between items-start border-t border-sage-200 pt-4">
          <div>
            <h3 class="text-xl font-display text-forest-900 mb-1 leading-none">
              {{ item.title }}
            </h3>
            <p class="text-xs text-sage-600 uppercase tracking-wider font-semibold">
              {{ item.category }}
            </p>
          </div>
         
        </div>

      </div>

    </div>
  </div>
</div>